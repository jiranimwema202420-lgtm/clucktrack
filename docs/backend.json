{
  "entities": {
    "Flock": {
      "title": "Flock",
      "type": "object",
      "description": "Represents a batch of chickens with shared characteristics and lifecycle management.",
      "properties": {
        "breed": {
          "type": "string",
          "description": "The breed of chickens in this flock."
        },
        "hatchDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date when the chicks in this flock hatched."
        },
        "count": {
          "type": "number",
          "description": "The current number of chickens in the flock."
        },
        "initialCount": {
          "type": "number",
          "description": "The initial number of chicks in the flock."
        },
        "averageWeight": {
          "type": "number",
          "description": "The average weight of a chicken in the flock (in kg)."
        },
        "totalFeedConsumed": {
          "type": "number",
          "description": "The total amount of feed consumed by the flock (in kg)."
        },
        "totalCost": {
          "type": "number",
          "description": "The total cost associated with the flock."
        }
      },
      "required": [
        "breed",
        "hatchDate",
        "count",
        "initialCount"
      ]
    },
    "Sale": {
      "title": "Sale",
      "type": "object",
      "description": "Represents a sales transaction.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the sale."
        },
        "flockId": {
          "type": "string",
          "description": "Reference to the Flock being sold."
        },
        "quantity": {
          "type": "number",
          "description": "Number of chickens sold."
        },
        "pricePerUnit": {
          "type": "number",
          "description": "Price per chicken."
        },
        "customer": {
          "type": "string",
          "description": "Name of the customer."
        },
        "saleDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date of the sale."
        },
        "total": {
          "type": "number",
          "description": "Total amount of the sale."
        }
      },
      "required": [
        "id",
        "flockId",
        "quantity",
        "pricePerUnit",
        "customer",
        "saleDate",
        "total"
      ]
    },
    "Expenditure": {
      "title": "Expenditure",
      "type": "object",
      "description": "Represents a farm expenditure.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the expenditure."
        },
        "category": {
          "type": "string",
          "description": "Category of the expense."
        },
        "quantity": {
          "type": "number",
          "description": "Quantity of items purchased."
        },
        "unitPrice": {
          "type": "number",
          "description": "Price per unit of the item."
        },
        "amount": {
          "type": "number",
          "description": "Amount of the expense."
        },
        "description": {
          "type": "string",
          "description": "Description of the expense."
        },
        "expenditureDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date of the expenditure."
        }
      },
      "required": [
        "id",
        "category",
        "quantity",
        "unitPrice",
        "amount",
        "expenditureDate"
      ]
    },
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the CluckHub system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user."
        },
        "firstName": {
          "type": "string",
          "description": "The first name of the user."
        },
        "lastName": {
          "type": "string",
          "description": "The last name of the user."
        },
        "email": {
          "type": "string",
          "description": "The email address of the user.",
          "format": "email"
        },
        "role": {
          "type": "string",
          "description": "The role of the user (e.g., admin, worker, vet)."
        }
      },
      "required": [
        "id",
        "firstName",
        "lastName",
        "email",
        "role"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/backend/entities/User"
          },
          "description": "Stores user profiles. Path-based ownership ensures only the user can access their profile.",
          "params": [
            {
              "name": "userId",
              "description": "The unique ID of the user, matching Firebase auth UID."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/flocks/{flockId}",
        "definition": {
          "entityName": "Flock",
          "schema": {
            "$ref": "#/backend/entities/Flock"
          },
          "description": "Stores flock information owned by the user.",
          "params": [
            {
              "name": "userId",
              "description": "The unique ID of the user."
            },
            {
              "name": "flockId",
              "description": "The unique ID of the flock."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/sales/{saleId}",
        "definition": {
          "entityName": "Sale",
          "schema": {
            "$ref": "#/backend/entities/Sale"
          },
          "description": "Stores sales information owned by the user.",
          "params": [
            {
              "name": "userId",
              "description": "The unique ID of the user."
            },
            {
              "name": "saleId",
              "description": "The unique ID of the sale."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/expenditures/{expenditureId}",
        "definition": {
          "entityName": "Expenditure",
          "schema": {
            "$ref": "#/backend/entities/Expenditure"
          },
          "description": "Stores expenditure information owned by the user.",
          "params": [
            {
              "name": "userId",
              "description": "The unique ID of the user."
            },
            {
              "name": "expenditureId",
              "description": "The unique ID of the expenditure."
            }
          ]
        }
      }
    ]
  }
}
