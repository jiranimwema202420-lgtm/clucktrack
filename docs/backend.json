
{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a user of the CluckHub system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user."
        },
        "displayName": {
          "type": "string",
          "description": "The display name of the user."
        },
        "email": {
          "type": "string",
          "description": "The email address of the user.",
          "format": "email"
        },
        "role": {
          "type": "string",
          "description": "The role of the user (e.g., admin, worker, vet)."
        },
        "farmName": {
          "type": "string",
          "description": "The name of the user's farm."
        },
        "farmLocation": {
          "type": "string",
          "description": "The location of the user's farm."
        },
        "farmContact": {
          "type": "string",
          "description": "The contact number for the user's farm."
        },
        "currency": {
          "type": "string",
          "description": "The user's preferred currency code (e.g., USD, EUR, KES)."
        }
      },
      "required": ["id", "email"]
    },
    "Flock": {
      "title": "Flock",
      "type": "object",
      "description": "Represents a batch of chickens with shared characteristics and lifecycle management.",
      "properties": {
        "breed": {
          "type": "string",
          "description": "The breed of chickens in this flock."
        },
        "type": {
          "type": "string",
          "description": "The type of flock, either 'Broiler' or 'Layer'.",
          "enum": ["Broiler", "Layer"]
        },
        "hatchDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date when the chicks in this flock hatched."
        },
        "count": {
          "type": "number",
          "description": "The current number of chickens in the flock."
        },
        "initialCount": {
          "type": "number",
          "description": "The initial number of chicks in the flock."
        },
        "averageWeight": {
          "type": "number",
          "description": "The average weight of a chicken in the flock (in kg). Mainly for Broilers."
        },
        "totalFeedConsumed": {
          "type": "number",
          "description": "The total amount of feed consumed by the flock (in kg)."
        },
        "totalCost": {
          "type": "number",
          "description": "The total cost associated with the flock."
        },
        "eggProductionRate": {
            "type": "number",
            "description": "The percentage of the flock that lays an egg each day. Only for Layers."
        },
        "totalEggsCollected": {
            "type": "number",
            "description": "The total number of eggs collected from this flock. Only for Layers."
        }
      },
      "required": ["breed", "type", "hatchDate", "count", "initialCount"]
    },
    "Sale": {
      "title": "Sale",
      "type": "object",
      "description": "Represents a sales transaction, which can be for birds or eggs.",
      "properties": {
        "flockId": {
          "type": "string",
          "description": "Reference to the Flock being sold."
        },
        "saleType": {
            "type": "string",
            "description": "The type of item sold.",
            "enum": ["Birds", "Eggs"]
        },
        "quantity": {
          "type": "number",
          "description": "Number of chickens or dozens of eggs sold."
        },
        "pricePerUnit": {
          "type": "number",
          "description": "Price per chicken or per dozen eggs."
        },
        "customer": {
          "type": "string",
          "description": "Name of the customer."
        },
        "saleDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date of the sale."
        },
        "total": {
          "type": "number",
          "description": "Total amount of the sale."
        }
      },
      "required": [
        "flockId",
        "saleType",
        "quantity",
        "pricePerUnit",
        "customer",
        "saleDate",
        "total"
      ]
    },
    "Expenditure": {
      "title": "Expenditure",
      "type": "object",
      "description": "Represents a farm expenditure.",
      "properties": {
        "category": {
          "type": "string",
          "description": "Category of the expense."
        },
        "quantity": {
          "type": "number",
          "description": "Quantity of items purchased."
        },
        "unitPrice": {
          "type": "number",
          "description": "Price per unit of the item."
        },
        "amount": {
          "type": "number",
          "description": "Total amount of the expense, calculated from quantity and unit price."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the expense."
        },
        "expenditureDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date of the expenditure."
        }
      },
      "required": [
        "category",
        "quantity",
        "unitPrice",
        "amount",
        "expenditureDate"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "google"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "schema": {
            "$ref": "#/entities/User"
          },
          "description": "Stores user profiles. Path-based ownership ensures only the user can access their profile."
        }
      },
      {
        "path": "/users/{userId}/flocks/{flockId}",
        "definition": {
          "schema": {
            "$ref": "#/entities/Flock"
          },
          "description": "Stores flock information owned by the user."
        }
      },
      {
        "path": "/users/{userId}/sales/{saleId}",
        "definition": {
          "schema": {
            "$ref": "#/entities/Sale"
          },
          "description": "Stores sales information owned by the user."
        }
      },
      {
        "path": "/users/{userId}/expenditures/{expenditureId}",
        "definition": {
          "schema": {
            "$ref": "#/entities/Expenditure"
          },
          "description": "Stores expenditure information owned by the user."
        }
      }
    ]
  }
}
