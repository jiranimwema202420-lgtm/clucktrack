{
  "entities": {
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User Profile",
      "type": "object",
      "description": "Represents a user of the application and their associated farm.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the User entity."
        },
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "description": "The user's email address.",
          "format": "email"
        },
        "farmId": {
          "type": "string",
          "description": "The ID of the farm this user belongs to."
        }
      },
      "required": [
        "id",
        "email"
      ]
    },
    "Flock": {
      "title": "Flock",
      "type": "object",
      "description": "A group of birds being raised together.",
      "properties": {
        "id": { "type": "string" },
        "breed": { "type": "string" },
        "type": { "type": "string", "enum": ["Broiler", "Layer"] },
        "count": { "type": "number" },
        "initialCount": { "type": "number" },
        "averageWeight": { "type": "number" },
        "hatchDate": { "type": "string", "format": "date-time" },
        "totalFeedConsumed": { "type": "number" },
        "totalCost": { "type": "number" },
        "eggProductionRate": { "type": "number" },
        "totalEggsCollected": { "type": "number" }
      },
      "required": ["id", "breed", "type", "count", "initialCount", "hatchDate"]
    },
    "Sale": {
      "title": "Sale",
      "type": "object",
      "description": "A record of a sale of birds or eggs.",
      "properties": {
        "id": { "type": "string" },
        "flockId": { "type": "string" },
        "saleType": { "type": "string", "enum": ["Birds", "Eggs"] },
        "quantity": { "type": "number" },
        "pricePerUnit": { "type": "number" },
        "customer": { "type": "string" },
        "saleDate": { "type": "string", "format": "date-time" },
        "total": { "type": "number" }
      },
      "required": ["id", "flockId", "saleType", "quantity", "pricePerUnit", "saleDate", "total"]
    },
    "Expenditure": {
      "title": "Expenditure",
      "type": "object",
      "description": "A record of a farm expense.",
      "properties": {
        "id": { "type": "string" },
        "category": { "type": "string" },
        "quantity": { "type": "number" },
        "unitPrice": { "type": "number" },
        "amount": { "type": "number" },
        "description": { "type": "string" },
        "expenditureDate": { "type": "string", "format": "date-time" },
        "flockId": { "type": "string" }
      },
      "required": ["id", "category", "quantity", "unitPrice", "amount", "expenditureDate"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "google.com"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/backend/entities/UserProfile" },
      "description": "Stores user profile information, including their assigned farmId."
    },
    "/users/{userId}/flocks/{flockId}": {
      "schema": { "$ref": "#/backend/entities/Flock" },
      "description": "Stores flock data specific to a user."
    },
    "/users/{userId}/sales/{saleId}": {
      "schema": { "$ref": "#/backend/entities/Sale" },
      "description": "Stores sales records for a user."
    },
    "/users/{userId}/expenditures/{expenditureId}": {
      "schema": { "$ref": "#/backend/entities/Expenditure" },
      "description": "Stores expenditure records for a user."
    }
  }
}

    